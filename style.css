/* ============================================================
   ComfyGen - SillyTavern Extension Styles
   ============================================================ */

/* ============ CSS Variables ============ */
.comfy-gen-settings,
.comfy-gen-box {
    --comfy-primary: #6366f1;
    --comfy-primary-hover: #4f46e5;
    --comfy-success: #22c55e;
    --comfy-warning: #f59e0b;
    --comfy-error: #ef4444;
    --comfy-border: var(--SmartThemeBorderColor, #444);
    --comfy-bg: var(--SmartThemeBlurTintColor, rgba(0, 0, 0, 0.2));
    --comfy-bg-elevated: var(--SmartThemeBodyColor, #222);
    --comfy-text: var(--SmartThemeBodyTextColor, #fff);
    --comfy-text-muted: #9ca3af;
    --comfy-radius: 8px;
    --comfy-radius-sm: 4px;
    --comfy-transition: 0.2s ease;
}

/* ============ Settings Panel ============ */
.comfy-gen-settings .inline-drawer-header {
    display: flex;
    align-items: center;
    gap: 8px;
}

.comfy-header-title {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    color: #0ff;
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

.comfy-section {
    margin: 12px 0;
}

.comfy-section-title {
    display: flex;
    align-items: center;
    gap: 6px;
    margin: 0 0 10px 0;
    font-size: 13px;
    font-weight: 600;
    color: var(--comfy-text);
}

.comfy-section-icon {
    font-size: 14px;
}

.comfy_block {
    margin: 6px 0;
}

.comfy-hint {
    margin-top: 4px;
    font-size: 11px;
    color: var(--comfy-text-muted);
}

.comfy-hint code {
    padding: 2px 5px;
    background: rgba(99, 102, 241, 0.2);
    border-radius: 3px;
    font-family: monospace;
    font-size: 11px;
}

.comfy-status {
    font-size: 12px;
    margin-left: 8px;
}

.comfy-status-connected {
    color: var(--comfy-success);
}

.comfy-status-disconnected {
    color: var(--comfy-text-muted);
}

.checkbox-label {
    margin-left: 4px;
    cursor: pointer;
    user-select: none;
}

/* Help Section */
.comfy-help-section {
    background: var(--comfy-bg);
    border-radius: var(--comfy-radius);
    padding: 12px;
}

.comfy-help-title {
    font-size: 12px;
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--comfy-text);
}

.comfy-help-content {
    font-size: 11px;
    color: var(--comfy-text-muted);
    line-height: 1.6;
}

.comfy-help-content p {
    margin: 4px 0;
}

.comfy-help-links {
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid var(--comfy-border);
}

.comfy-help-links a {
    color: var(--comfy-primary);
    font-size: 12px;
    text-decoration: none;
    transition: color var(--comfy-transition);
}

.comfy-help-links a:hover {
    color: var(--comfy-primary-hover);
    text-decoration: underline;
}

/* ============ Generation Component (In Chat) ============ */
.comfy-gen-box {
    margin: 12px 0;
    padding: 14px;
    border: 1px solid var(--comfy-border);
    border-radius: var(--comfy-radius);
    background: var(--comfy-bg);
    transition: border-color var(--comfy-transition);
}

.comfy-gen-box:hover {
    border-color: var(--comfy-primary);
}

/* Prompt Display */
.comfy-prompt-display {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 12px;
    padding: 10px 12px;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
    border-radius: var(--comfy-radius-sm);
    font-size: 13px;
    line-height: 1.5;
    word-break: break-word;
}

.comfy-prompt-icon {
    flex-shrink: 0;
    font-size: 16px;
}

.comfy-prompt-text {
    color: var(--comfy-text);
}

/* Controls */
.comfy-controls {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
}

.comfy-preset-select {
    flex: 1;
    min-width: 160px;
    max-width: 300px;
    padding: 8px 12px;
    border: 1px solid var(--comfy-border);
    border-radius: var(--comfy-radius-sm);
    background: var(--comfy-bg-elevated);
    color: var(--comfy-text);
    font-size: 13px;
    cursor: pointer;
    transition: border-color var(--comfy-transition), box-shadow var(--comfy-transition);
}

.comfy-preset-select:hover:not(:disabled) {
    border-color: var(--comfy-primary);
}

.comfy-preset-select:focus {
    outline: none;
    border-color: var(--comfy-primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
}

.comfy-preset-select:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.comfy-gen-btn {
    min-width: 110px;
    padding: 8px 16px;
    border-radius: var(--comfy-radius-sm);
    font-size: 13px;
    font-weight: 500;
    transition: all var(--comfy-transition);
}

.comfy-gen-btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

.comfy-gen-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* No Preset Warning */
.comfy-no-preset {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
    padding: 12px;
    background: rgba(245, 158, 11, 0.1);
    border: 1px solid rgba(245, 158, 11, 0.3);
    border-radius: var(--comfy-radius-sm);
}

.comfy-warning-icon {
    font-size: 20px;
    flex-shrink: 0;
}

.comfy-warning-text {
    display: flex;
    flex-direction: column;
    gap: 4px;
    font-size: 13px;
}

.comfy-warning-text span {
    color: var(--comfy-warning);
}

.comfy-link {
    color: var(--comfy-primary);
    text-decoration: none;
    font-size: 12px;
    transition: color var(--comfy-transition);
}

.comfy-link:hover {
    color: var(--comfy-primary-hover);
    text-decoration: underline;
}

/* ============ Loading Animation ============ */
.comfy-loading-container {
    margin-top: 12px;
    display: none;
}

/* Simple Loading */
.comfy-simple-loading {
    padding: 24px;
    text-align: center;
    color: #0ff;
    font-size: 14px;
    font-family: monospace;
    text-shadow: 0 0 10px #0ff;
}

.comfy-simple-loading-text::after {
    content: '...';
    animation: neon-dots 1.5s steps(4, end) infinite;
}

@keyframes neon-dots {
    0% { content: ''; }
    25% { content: '.'; }
    50% { content: '..'; }
    75%, 100% { content: '...'; }
}

/* ============ Neon Tavern Loading ============ */
.comfy-fancy-loading {
    position: relative;
    height: 200px;
    border-radius: var(--comfy-radius);
    overflow: hidden;
    background: linear-gradient(180deg, #0a0a12 0%, #12121a 50%, #0a0a12 100%);
    border: 1px solid rgba(0, 255, 255, 0.2);
    box-shadow:
        inset 0 0 60px rgba(0, 255, 255, 0.03),
        0 0 20px rgba(0, 255, 255, 0.1);
}

/* Scanlines */
.comfy-fancy-loading::before {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.15) 2px,
        rgba(0, 0, 0, 0.15) 4px
    );
    pointer-events: none;
    z-index: 100;
}

/* Grid floor effect */
.comfy-fancy-loading::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60px;
    background:
        linear-gradient(180deg, transparent 0%, rgba(255, 0, 128, 0.1) 100%),
        repeating-linear-gradient(90deg, transparent, transparent 30px, rgba(255, 0, 128, 0.1) 30px, rgba(255, 0, 128, 0.1) 31px),
        repeating-linear-gradient(0deg, transparent, transparent 15px, rgba(255, 0, 128, 0.05) 15px, rgba(255, 0, 128, 0.05) 16px);
    transform: perspective(200px) rotateX(60deg);
    transform-origin: bottom;
    opacity: 0.6;
}

/* Neon glow background */
.comfy-loading-bg {
    position: absolute;
    inset: 0;
    overflow: hidden;
}

.comfy-loading-gradient {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background:
        radial-gradient(circle at 30% 20%, rgba(0, 255, 255, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 70% 80%, rgba(255, 0, 128, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 50% 50%, rgba(128, 0, 255, 0.1) 0%, transparent 50%);
    animation: neon-rotate 10s linear infinite;
}

@keyframes neon-rotate {
    to { transform: rotate(360deg); }
}

/* Neon bars */
.comfy-particles {
    position: absolute;
    inset: 0;
    overflow: hidden;
}

.comfy-particle {
    position: absolute;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--neon-color), transparent);
    opacity: 0;
    animation: neon-streak 3s ease-in-out infinite;
    animation-delay: calc(var(--i) * 0.4s);
}

.comfy-particle:nth-child(odd) { --neon-color: #0ff; }
.comfy-particle:nth-child(even) { --neon-color: #f0f; }

.comfy-particle:nth-child(1) { top: 15%; left: 0; width: 40%; }
.comfy-particle:nth-child(2) { top: 30%; right: 0; width: 35%; transform: scaleX(-1); }
.comfy-particle:nth-child(3) { top: 50%; left: 0; width: 50%; }
.comfy-particle:nth-child(4) { top: 65%; right: 0; width: 30%; transform: scaleX(-1); }
.comfy-particle:nth-child(5) { top: 80%; left: 0; width: 45%; }
.comfy-particle:nth-child(6) { top: 25%; right: 0; width: 25%; transform: scaleX(-1); }
.comfy-particle:nth-child(7) { top: 45%; left: 0; width: 35%; }
.comfy-particle:nth-child(8) { top: 70%; right: 0; width: 40%; transform: scaleX(-1); }

@keyframes neon-streak {
    0%, 100% { opacity: 0; transform: translateX(-100%) scaleX(1); }
    10% { opacity: 1; }
    50% { opacity: 0.8; }
    90% { opacity: 1; }
    95% { opacity: 0; transform: translateX(100%) scaleX(1); }
}

/* Main content */
.comfy-loading-content {
    position: absolute;
    inset: 0;
    z-index: 10;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* Neon sign container */
.comfy-loading-rings {
    position: relative;
    width: 90px;
    height: 90px;
    margin-bottom: 20px;
}

/* Outer neon ring */
.comfy-ring-outer {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 2px solid transparent;
    background:
        linear-gradient(#0a0a12, #0a0a12) padding-box,
        linear-gradient(135deg, #0ff, #f0f, #0ff) border-box;
    animation: neon-border-spin 3s linear infinite;
    box-shadow:
        0 0 15px rgba(0, 255, 255, 0.5),
        0 0 30px rgba(0, 255, 255, 0.3),
        inset 0 0 15px rgba(255, 0, 255, 0.3);
}

@keyframes neon-border-spin {
    to { transform: rotate(360deg); }
}

/* Middle pulse ring */
.comfy-ring-middle {
    position: absolute;
    inset: 10px;
    border-radius: 50%;
    border: 1px solid rgba(0, 255, 255, 0.4);
    animation: neon-pulse 1.5s ease-out infinite;
}

@keyframes neon-pulse {
    0% { transform: scale(1); opacity: 0.8; box-shadow: 0 0 0 rgba(0, 255, 255, 0.4); }
    50% { transform: scale(1.2); opacity: 0.4; box-shadow: 0 0 20px rgba(0, 255, 255, 0.3); }
    100% { transform: scale(1.4); opacity: 0; box-shadow: 0 0 30px rgba(0, 255, 255, 0); }
}

/* Inner glow ring */
.comfy-ring-inner {
    position: absolute;
    inset: 20px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 0, 128, 0.2) 0%, transparent 70%);
    animation: neon-glow-pulse 2s ease-in-out infinite;
}

@keyframes neon-glow-pulse {
    0%, 100% { opacity: 0.5; transform: scale(0.9); }
    50% { opacity: 1; transform: scale(1.1); }
}

/* Center icon */
.comfy-ring-center {
    position: absolute;
    inset: 25px;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 128, 0.1));
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.comfy-loading-icon {
    font-size: 24px;
    animation: neon-icon-flicker 2s ease-in-out infinite;
    filter: drop-shadow(0 0 8px #0ff) drop-shadow(0 0 15px #f0f);
}

@keyframes neon-icon-flicker {
    0%, 100% { opacity: 1; filter: drop-shadow(0 0 8px #0ff) drop-shadow(0 0 15px #f0f); }
    5% { opacity: 0.8; }
    10% { opacity: 1; }
    15% { opacity: 0.9; }
    50% { opacity: 1; filter: drop-shadow(0 0 12px #0ff) drop-shadow(0 0 25px #f0f); }
    55% { opacity: 0.85; }
    60% { opacity: 1; }
}

/* Neon text */
.comfy-loading-text {
    text-align: center;
    margin-bottom: 12px;
}

.comfy-loading-status {
    font-size: 14px;
    font-weight: 600;
    font-family: 'Courier New', monospace;
    color: #fff;
    text-shadow:
        0 0 5px #0ff,
        0 0 10px #0ff,
        0 0 20px #0ff,
        0 0 40px #0ff;
    animation: neon-text-glow 1.5s ease-in-out infinite alternate;
    letter-spacing: 2px;
}

@keyframes neon-text-glow {
    from {
        text-shadow:
            0 0 5px #0ff,
            0 0 10px #0ff,
            0 0 20px #0ff,
            0 0 40px #0ff;
    }
    to {
        text-shadow:
            0 0 2px #0ff,
            0 0 5px #0ff,
            0 0 10px #0ff,
            0 0 20px #0ff,
            0 0 30px #f0f,
            0 0 40px #f0f;
    }
}

/* Loading dots - neon style */
.comfy-loading-dots {
    display: flex;
    gap: 8px;
}

.comfy-loading-dots span {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #0ff;
    box-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
    animation: neon-dot-pulse 1s ease-in-out infinite;
}

.comfy-loading-dots span:nth-child(1) { animation-delay: 0s; }
.comfy-loading-dots span:nth-child(2) { animation-delay: 0.2s; background: #f0f; box-shadow: 0 0 10px #f0f, 0 0 20px #f0f; }
.comfy-loading-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes neon-dot-pulse {
    0%, 100% { transform: scale(1); opacity: 0.6; }
    50% { transform: scale(1.4); opacity: 1; }
}

/* Cached Badge */
.comfy-cached-badge {
    margin-left: auto;
    font-size: 14px;
    opacity: 0.7;
}

/* Result Area */
.comfy-result {
    margin-top: 12px;
}

.comfy-result-prompt {
    margin-bottom: 10px;
    padding: 8px 10px;
    background: rgba(99, 102, 241, 0.1);
    border-radius: var(--comfy-radius-sm);
    font-size: 11px;
    color: var(--comfy-text-muted);
    word-break: break-word;
}

.comfy-image-wrapper {
    position: relative;
    display: inline-block;
    margin: 5px;
}

/* NSFW Badge */
.comfy-nsfw-badge {
    position: absolute;
    top: 8px;
    left: 8px;
    z-index: 10;
    padding: 4px 8px;
    background: rgba(239, 68, 68, 0.9);
    border-radius: var(--comfy-radius-sm);
    font-size: 11px;
    font-weight: 600;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    pointer-events: none;
    backdrop-filter: blur(4px);
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4);
}

.comfy-result-img {
    max-width: 100%;
    max-height: 450px;
    border-radius: var(--comfy-radius);
    cursor: pointer;
    transition: transform var(--comfy-transition), box-shadow var(--comfy-transition);
    display: block;
}

.comfy-result-img:hover {
    transform: scale(1.02);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

/* NSFW Blur - ÁÇπÂáªËß£Èô§ */
.comfy-nsfw-blur {
    filter: blur(20px);
    transition: filter var(--comfy-transition);
    cursor: pointer;
}

/* Image Actions */
.comfy-image-actions {
    position: absolute;
    bottom: 8px;
    right: 8px;
    display: flex;
    gap: 6px;
    opacity: 1;
    transition: opacity var(--comfy-transition);
}

/* ÁßªÈô§ hover ÊòæÁ§∫ÈÄªËæëÔºåÊåâÈíÆÂßãÁªàÂèØËßÅ */

.comfy-action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: rgba(0, 0, 0, 0.7);
    border: none;
    border-radius: var(--comfy-radius-sm);
    color: var(--comfy-text);
    font-size: 14px;
    cursor: pointer;
    text-decoration: none;
    transition: background var(--comfy-transition), transform var(--comfy-transition);
}

.comfy-action-btn:hover {
    background: rgba(99, 102, 241, 0.8);
    transform: scale(1.1);
}

/* Error Display */
.comfy-error {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: var(--comfy-radius-sm);
}

.comfy-error-icon {
    font-size: 16px;
    flex-shrink: 0;
}

.comfy-error-text {
    color: var(--comfy-error);
    font-size: 13px;
}

/* ============ Responsive Design ============ */
@media (max-width: 600px) {
    .comfy-controls {
        flex-direction: column;
        align-items: stretch;
    }

    .comfy-preset-select {
        max-width: none;
    }

    .comfy-gen-btn {
        width: 100%;
    }

    .comfy-result-img {
        max-height: 300px;
    }
}

/* ============ Dark Mode Adjustments ============ */
@media (prefers-color-scheme: dark) {
    .comfy-gen-box {
        --comfy-bg: rgba(0, 0, 0, 0.3);
    }
}

/* ============ Animation ============ */
@keyframes comfy-fade-in {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.comfy-gen-box {
    animation: comfy-fade-in 0.3s ease;
}

.comfy-result-img {
    animation: comfy-fade-in 0.5s ease;
}

/* ============ Loading State ============ */
.comfy-gen-btn[disabled] {
    position: relative;
}

.comfy-gen-btn[disabled]::after {
    content: "";
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    width: 12px;
    height: 12px;
    border: 2px solid transparent;
    border-top-color: currentColor;
    border-radius: 50%;
    animation: comfy-spin 0.8s linear infinite;
}

@keyframes comfy-spin {
    to {
        transform: translateY(-50%) rotate(360deg);
    }
}

/* ============ ËßÜÈ¢ëÁîüÊàêÂä†ËΩΩÂä®Áîª (ÈúìËôπÈ£éÊ†º) ============ */
.comfy-video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(10, 10, 18, 0.95) 0%, rgba(18, 18, 26, 0.95) 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
    z-index: 10;
    backdrop-filter: blur(8px);
    border-radius: var(--comfy-radius);
    overflow: hidden;
}

/* ËÉåÊôØÂÖâÊïàÂä®Áîª */
.comfy-video-overlay::before {
    content: '';
    position: absolute;
    inset: -50%;
    background: radial-gradient(circle at center, rgba(139, 92, 246, 0.2) 0%, transparent 70%);
    animation: video-glow-pulse 3s ease-in-out infinite;
}

@keyframes video-glow-pulse {
    0%, 100% { opacity: 0.3; transform: scale(0.8); }
    50% { opacity: 0.6; transform: scale(1.2); }
}

/* Êâ´ÊèèÁ∫øÊïàÊûú */
.comfy-video-overlay::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(139, 92, 246, 0.05) 2px,
        rgba(139, 92, 246, 0.05) 4px
    );
    pointer-events: none;
}

.comfy-video-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
    position: relative;
    z-index: 1;
}

/* ÈúìËôπÂúÜÁéØÂä†ËΩΩÂô® */
.comfy-video-spinner {
    position: relative;
    width: 80px;
    height: 80px;
}

.comfy-video-spinner::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 3px solid transparent;
    border-top: 3px solid rgb(139, 92, 246);
    border-right: 3px solid rgba(139, 92, 246, 0.6);
    animation: video-ring-spin 1.2s linear infinite;
    box-shadow:
        0 0 15px rgba(139, 92, 246, 0.5),
        inset 0 0 15px rgba(139, 92, 246, 0.3);
}

.comfy-video-spinner::after {
    content: 'üìπ';
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 32px;
    animation: video-icon-pulse 2s ease-in-out infinite;
    filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.8));
}

@keyframes video-ring-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes video-icon-pulse {
    0%, 100% { opacity: 0.8; transform: scale(0.95); }
    50% { opacity: 1; transform: scale(1.05); }
}

.comfy-video-loading-text {
    color: #fff;
    font-size: 16px;
    font-weight: 600;
    font-family: 'Courier New', monospace;
    text-shadow:
        0 0 10px rgba(139, 92, 246, 0.8),
        0 0 20px rgba(139, 92, 246, 0.5),
        0 0 30px rgba(139, 92, 246, 0.3);
    letter-spacing: 1px;
    animation: video-text-glow 1.5s ease-in-out infinite alternate;
}

@keyframes video-text-glow {
    from {
        text-shadow:
            0 0 10px rgba(139, 92, 246, 0.8),
            0 0 20px rgba(139, 92, 246, 0.5);
    }
    to {
        text-shadow:
            0 0 15px rgba(139, 92, 246, 1),
            0 0 30px rgba(139, 92, 246, 0.7),
            0 0 45px rgba(139, 92, 246, 0.5);
    }
}

/* ËøõÂ∫¶ÁÇπ */
.comfy-video-progress-dots {
    display: flex;
    gap: 10px;
}

.comfy-video-progress-dots span {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgb(139, 92, 246);
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.6);
    animation: video-dot-bounce 1.4s ease-in-out infinite;
}

.comfy-video-progress-dots span:nth-child(1) { animation-delay: 0s; }
.comfy-video-progress-dots span:nth-child(2) { animation-delay: 0.2s; }
.comfy-video-progress-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes video-dot-bounce {
    0%, 100% { transform: scale(0.8); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 1; }
}

/* ËßÜÈ¢ëÊí≠ÊîæÂô®ÂÆπÂô®Ê†∑Âºè‰ºòÂåñ */
.comfy-video-section {
    margin-top: 16px;
    padding-top: 12px;
    border-top: 1px solid rgba(139, 92, 246, 0.2);
}

.comfy-video-label {
    color: rgba(255, 255, 255, 0.8);
    font-size: 13px;
    margin-bottom: 8px;
    padding: 0 4px;
    font-weight: 500;
}

.comfy-video-container {
    border-radius: var(--comfy-radius);
    overflow: hidden;
    background: rgba(0, 0, 0, 0.3);
}

.comfy-video-player {
    width: 100%;
    max-width: 100%;
    max-height: 450px;
    display: block;
    border-radius: var(--comfy-radius);
}
